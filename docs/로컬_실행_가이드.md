# 로컬에서 앱 실행하기

venv(가상환경)를 삭제한 뒤에는 패키지를 다시 설치해야 합니다.

## 방법 1: 배치 파일 사용 (권장)

1. **명령 프롬프트** 또는 **PowerShell**을 연다.
2. 프로젝트 폴더로 이동:
   ```bat
   cd C:\Users\user\Desktop\virtual_population_generator
   ```
3. **첫 실행**이거나 venv가 비어 있을 때:
   ```bat
   setup_local.bat
   ```
   - 가상환경 생성 → `requirements.txt` 설치 → 앱 실행까지 한 번에 진행됩니다.
4. **이후 실행** (이미 패키지가 설치된 경우):
   ```bat
   run_local.bat
   ```
   - 바로 Streamlit 앱만 실행합니다.

## 방법 2: 수동으로 실행

```bat
cd C:\Users\user\Desktop\virtual_population_generator

REM 가상환경이 없으면 생성
python -m venv venv

REM 가상환경 활성화 (PowerShell)
.\venv\Scripts\Activate.ps1

REM 패키지 설치 (인터넷 필요)
pip install -r requirements.txt

REM 앱 실행
streamlit run run.py
```

- **명령 프롬프트**에서는 `.\venv\Scripts\activate.bat` 사용 후 위와 동일하게 `pip install`, `streamlit run run.py` 실행하면 됩니다.

## API 키 (로컬)

- `.streamlit/secrets.toml` 또는 `streamlit/secrets.toml`에 다음을 추가:
  ```toml
  GEMINI_API_KEY = "Google AI Studio에서 발급한 키"
  ```
- 없으면 AI 기능(대화, 페르소나 생성 등)만 동작하지 않고, 나머지 앱은 실행됩니다.

## 문제 해결

- **"streamlit을 찾을 수 없습니다"**  
  → `setup_local.bat`을 한 번 실행해 패키지를 설치한 뒤, `run_local.bat`으로 실행하세요.

- **pip install 실패 (No matching distribution)**  
  → 인터넷 연결을 확인하고, 회사/학교 방화벽·프록시가 있다면 설정 후 다시 시도하세요.

- **PowerShell에서 스크립트 실행 오류**  
  → 관리자 권한 PowerShell에서 `Set-ExecutionPolicy RemoteSigned -Scope CurrentUser` 실행 후 다시 시도하세요.
